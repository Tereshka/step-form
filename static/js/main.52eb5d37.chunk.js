(this["webpackJsonpstep-form"]=this["webpackJsonpstep-form"]||[]).push([[0],[,,,,function(e,a,t){e.exports=t.p+"static/media/no-avatar.59337bae.png"},function(e,a,t){e.exports=t(12)},,,,,,function(e,a,t){},function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(3),s=t.n(l),o=t(1);function c(e){const a=e.step,t=e.steps,n=e=>{let t="header-item";return a===e.number&&(t+=" active"),e.completed&&(t+=" completed"),t};return r.a.createElement("div",{className:"header"},t.map(e=>r.a.createElement("div",{key:"header-"+e.number,className:n(e)},r.a.createElement("div",{className:"header-item_number"},e.number),r.a.createElement("div",{className:"header-item_label"},e.label))))}function m(e){const a=e.currentStep,t=e.steps,n=e.onNextButtonClick,l=e.onPreviousButtonClick,s=e.onResetButtonClick;return r.a.createElement("div",{className:"text-center mt-3"},a!==t.length?r.a.createElement(r.a.Fragment,null,1!==a&&r.a.createElement("button",{type:"button",className:"btn btn-light",onClick:l},"Previous"),r.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:n},"Next")):r.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:s},"Reset"))}var i=e=>{const a=e.id,t=e.labelText,n=e.type,l=e.placeholder,s=e.name,o=e.value,c=e.onChange,m=e.error;return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:a},t),r.a.createElement("input",{id:a,type:n,className:"form-control ".concat(m?"invalid":""),placeholder:l,name:s,value:o,onChange:c}),m?r.a.createElement("div",{className:"invalid-feedback"},m):null)};function u(e){const a=e.user,t=a.firstName,n=a.lastName,l=a.password,s=a.passwordRepeat,o=a.gender,c=e.onChangeInput,m=e.errors;return r.a.createElement(r.a.Fragment,null,r.a.createElement(i,{id:"firstName",labelText:"First Name",type:"text",placeholder:"Enter first name",name:"firstName",value:t,onChange:c,error:m.firstName}),r.a.createElement(i,{id:"lastName",labelText:"Last Name",type:"text",placeholder:"Enter last name",name:"lastName",value:n,onChange:c,error:m.lastName}),r.a.createElement(i,{id:"password",labelText:"Password",type:"password",placeholder:"Enter password",name:"password",value:l,onChange:c,error:m.password}),r.a.createElement(i,{id:"passwordRepeat",labelText:"Repeat password",type:"password",placeholder:"Repeat password",name:"passwordRepeat",value:s,onChange:c,error:m.passwordRepeat}),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("div",null,"Gender"),r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"radio",name:"gender",id:"male",value:"male",checked:"male"===o,onChange:c}),r.a.createElement("label",{className:"form-check-label",htmlFor:"male"},"Male")),r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"radio",name:"gender",id:"female",value:"female",checked:"female"===o,onChange:c}),r.a.createElement("label",{className:"form-check-label",htmlFor:"female"},"Female"))))}var d=[{id:0,name:"Russia"},{id:1,name:"Ukraine"},{id:2,name:"Germany"},{id:3,name:"France"},{id:4,name:"Spain"},{id:5,name:"USA"}],p=[{country:0,name:"Moscow"},{country:0,name:"Saint-Peterburg"},{country:0,name:"Krasnodar"},{country:0,name:"Vladivistor"},{country:0,name:"Sochi"},{country:1,name:"Kyiv"},{country:1,name:"Lviv"},{country:1,name:"Odessa"},{country:1,name:"Dnipro"},{country:1,name:"Kharkiv"},{country:2,name:"Berlin"},{country:2,name:"Dortmund"},{country:2,name:"Drezden"},{country:2,name:"Hamburg"},{country:2,name:"Koln"},{country:3,name:"Paris"},{country:3,name:"Lyon"},{country:3,name:"Toulouse"},{country:3,name:"Marseille"},{country:3,name:"Bordeaux"},{country:4,name:"Madrid"},{country:4,name:"Barcelona"},{country:4,name:"Sevilla"},{country:4,name:"Bilbo"},{country:4,name:"Malaga"},{country:5,name:"Washington"},{country:5,name:"San-Francisco"},{country:5,name:"New-York"},{country:5,name:"Las-Vegas"},{country:5,name:"Honolulu"}];function h(e){const a=e.user,t=a.email,n=a.phone,l=a.country,s=a.city,o=e.errors,c=e.onChangeInput,m=p.filter(e=>e.country===+l).map((e,a)=>({id:a,name:e.name}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(i,{id:"email",labelText:"Email",type:"email",placeholder:"Enter email",name:"email",value:t,onChange:c,error:o.email}),r.a.createElement(i,{id:"phone",labelText:"Phone",type:"text",placeholder:"+X(XXXX)XXX-XX-XX",name:"phone",value:n,onChange:c,error:o.phone}),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"country"},"Country"),r.a.createElement("select",{className:"form-control",id:"country",name:"country",value:l,onChange:c},d.map((e,a)=>r.a.createElement("option",{key:a,value:e.id},e.name))),o.country?r.a.createElement("div",{className:"invalid-feedback"},o.country):null),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"country"},"City"),r.a.createElement("select",{className:"form-control",id:"city",name:"city",value:s,onChange:c},r.a.createElement("option",{value:""},"Select city"),(e=>e.map((e,a)=>r.a.createElement("option",{key:a,value:e.name},e.name)))(m)),o.city?r.a.createElement("div",{className:"invalid-feedback"},o.city):null))}var y=t(4),b=t.n(y);function v(e){const a=e.user.avatar,t=e.onChangeInput,n=e.errors,l=a||b.a;return r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{src:l,alt:"user avatar",className:"avatar mb-3"}),r.a.createElement("div",{className:"custom-file"},r.a.createElement("input",{type:"file",className:"custom-file-input",id:"avatar",name:"avatar",onChange:e=>{const a=new FileReader;a.onload=e=>{t({target:{name:"avatar",value:e.target.result}})},a.readAsDataURL(e.target.files[0])}}),r.a.createElement("label",{className:"custom-file-label",htmlFor:"customFile"},"Choose avatar"),n.avatar?r.a.createElement("div",{className:"invalid-feedback"},n.avatar):null))}function E(e){const a=e.user,t=a.firstName,n=a.lastName,l=a.email,s=a.phone,o=a.country,c=a.city,m=a.avatar,i=d.find(e=>e.id===o).name;return r.a.createElement("div",{className:"jumbotron"},r.a.createElement("img",{src:m,alt:"user avatar",className:"mr-3 rounded float-left avatar-small"}),r.a.createElement("h1",{className:"display-4"},t," ",n),r.a.createElement("hr",{className:"my-4"}),r.a.createElement("p",null,r.a.createElement("b",null,"Email:")," ",l),r.a.createElement("p",null,r.a.createElement("b",null,"Mobile:")," ",s),r.a.createElement("p",null,r.a.createElement("b",null,"Location:")," ",i,", ",c))}var N=(e,a)=>{const t={},n=/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/,r=/^\+?([0-9]{1})\)?[-. (]?([0-9]{3})[-. )]?([0-9]{3})[-. ]?([0-9]{2})[-. ]?([0-9]{2})$/;switch(e){case 1:a.firstName?a.firstName.length<5&&(t.firstName="Must be 5 characters or more"):t.firstName="Required",a.lastName?a.lastName.length<5&&(t.lastName="Must be 5 characters or more"):t.lastName="Required",a.password?a.password.length<6&&(t.password="Must be 6 characters or more"):t.password="Required",a.passwordRepeat?a.password!==a.passwordRepeat&&(t.passwordRepeat="Must be equal password"):t.passwordRepeat="Required";break;case 2:a.email?n.test(a.email)||(t.email="Invalid email address"):t.email="Required",a.phone?r.test(a.phone)||(t.phone="Invalid mobile: +X(XXXX)XXX-XX-XX"):t.phone="Required",-1===a.country&&(t.country="Required"),a.city||(t.city="Required");break;case 3:a.avatar||(t.avatar="Required")}return t};class f extends r.a.Component{constructor(...e){super(...e),this.state={currentStep:1,user:{firstName:"",lastName:"",password:"",passwordRepeat:"",gender:"female",age:18,email:"",phone:"",country:0,city:""},errors:{},steps:[{number:1,label:"Basic",completed:!1},{number:2,label:"Contacts",completed:!1},{number:3,label:"Avatar",completed:!1},{number:4,label:"Finish",completed:!1}]},this.onChangeInput=e=>{const a=e.target,t=a.name,n=a.value;"country"===t&&this.setState(e=>({user:Object(o.a)(Object(o.a)({},e.user),{},{city:""})})),this.setState(e=>({user:Object(o.a)(Object(o.a)({},e.user),{},{[t]:n}),errors:Object(o.a)(Object(o.a)({},e.errors),{},{[t]:null})}))},this.onNextButtonClick=()=>{const e=this.state,a=e.currentStep,t=e.user,n=N(a,t);if(this.setState({errors:n}),0===Object.keys(n).length){let e=[...this.state.steps];e.find(e=>e.number===a).completed=!0,this.setState({currentStep:a+1,steps:e})}},this.onPreviousButtonClick=()=>{let e=[...this.state.steps];e.find(e=>e.number===this.state.currentStep-1).completed=!1,this.setState({currentStep:this.state.currentStep-1,steps:e})},this.onResetButtonClick=()=>{window.location.reload()}}render(){const e=this.state,a=e.currentStep,t=e.steps,n=e.user,l=e.errors;return r.a.createElement("div",{className:"form-container card"},r.a.createElement(c,{step:a,steps:t}),r.a.createElement("form",{className:"form card-body"},1===a&&r.a.createElement(u,{user:n,onChangeInput:this.onChangeInput,errors:l}),2===a&&r.a.createElement(h,{user:n,onChangeInput:this.onChangeInput,errors:l}),3===a&&r.a.createElement(v,{user:n,onChangeInput:this.onChangeInput,errors:l}),4===a&&r.a.createElement(E,{user:n}),r.a.createElement(m,{currentStep:a,steps:t,onNextButtonClick:this.onNextButtonClick,onPreviousButtonClick:this.onPreviousButtonClick,onResetButtonClick:this.onResetButtonClick})))}}t(10),t(11);s.a.render(r.a.createElement(f,null),document.getElementById("root"))}],[[5,1,2]]]);
//# sourceMappingURL=main.52eb5d37.chunk.js.map